# ============================
# 测试环境配置文件
# ============================

# 基本配置
APP_NAME=Guanshan Intelligence System - Test Mode
VERSION=1.0.0-test
DEBUG=true
HOST=0.0.0.0
PORT=8000
WORKERS=1
LOG_LEVEL=DEBUG

# 安全配置（测试用）
SECRET_KEY=test-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================
# 测试模式配置
# ============================
TEST_MODE=true                         # 启用测试模式
TEST_MAX_RESULTS=5                     # 测试模式下最大结果数
TEST_DEFAULT_LIMIT=5                   # 测试模式默认限制

# ============================
# 数据库配置（测试环境）
# ============================
# MongoDB配置
MONGODB_URL=mongodb://localhost:27017/guanshan_test
MONGODB_DB_NAME=guanshan_test
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2

# MariaDB配置
MARIADB_URL=mysql://test_user:test_pass@localhost:3306/guanshan_test
MARIADB_POOL_SIZE=5
MARIADB_MAX_OVERFLOW=5
MARIADB_POOL_TIMEOUT=10

# Redis配置
REDIS_URL=redis://localhost:6379/1
REDIS_MAX_CONNECTIONS=10
REDIS_DECODE_RESPONSES=true

# RabbitMQ配置
RABBITMQ_URL=amqp://guest:guest@localhost:5672/test
RABBITMQ_EXCHANGE=guanshan_test
RABBITMQ_QUEUE_PREFIX=test_

# ============================
# Firecrawl测试配置
# ============================
FIRECRAWL_API_KEY=your-firecrawl-api-key-here
FIRECRAWL_BASE_URL=https://api.firecrawl.dev
FIRECRAWL_TIMEOUT=15000                 # 测试模式较短超时
FIRECRAWL_MAX_RETRIES=2                 # 测试模式减少重试次数

# Firecrawl测试模式
FIRECRAWL_TEST_MODE=true                # Firecrawl测试模式
FIRECRAWL_TEST_MAX_LIMIT=10             # 测试模式最大请求数

# 速率限制（测试模式宽松）
FIRECRAWL_RATE_LIMIT_PER_MINUTE=30
FIRECRAWL_CONCURRENT_REQUESTS=2

# 积分管理（测试模式限制）
FIRECRAWL_MAX_CREDITS_PER_TASK=10
FIRECRAWL_MAX_CREDITS_PER_DAY=100
FIRECRAWL_CREDITS_WARNING_THRESHOLD=20

# 重试配置（测试模式）
FIRECRAWL_RETRY_DELAY=500
FIRECRAWL_RETRY_MULTIPLIER=1.5

# ============================
# LLM配置（测试环境）
# ============================
LLM_PROVIDER=openai
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
CLAUDE_API_KEY=your-claude-api-key-here
CLAUDE_MODEL=claude-3-haiku

# ============================
# 向量数据库配置（测试环境）
# ============================
VECTOR_DB_TYPE=qdrant
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION=test_documents

# ============================
# RAG配置（测试环境）
# ============================
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536
CHUNK_SIZE=500                          # 测试模式较小
CHUNK_OVERLAP=100                       # 测试模式较小
TOP_K_RETRIEVAL=3                       # 测试模式减少检索数量
RERANK_MODEL=

# ============================
# 测试模式提示信息
# ============================
# 注意：测试模式下的限制
# - 搜索结果限制为最多10条
# - 单任务最多使用10积分
# - 每日最多使用100积分
# - 最小调度间隔为6小时
# - 使用测试数据库避免污染生产数据